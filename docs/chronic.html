<!doctype html>
<html>
<head>
  <title>Chronic Drinking Water Safety Violations</title>
  <link rel="stylesheet" media="screen" href="index.css" />
  <style>
  body {
    margin: 0;padding:0;
  }
  .map-overlay {
    font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif;
    position: absolute;
    width: 25%;
    bottom: 20px;
    left: 0;
    padding: 10px;
  } 
  .map-overlay .map-overlay-inner {
    background-color: #fff;
    box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
    border-radius: 3px;
    padding: 10px;
    margin-bottom: 10px;
  }
  .map-overlay input {
    background-color: transparent;
    display: inline-block;
    width: 100%;
    position: relative;
    margin: 0;
    cursor: ew-resize;
  }
  .bar {
    list-style: none;
    margin: 6px 0;
    padding: 0;
    height: 20px;
    font-size: .9em;
  }
  .bar li {
    display: block;
    margin: 0;
    padding: 0;
    height: 20px;
    width: 42px;
    color: #fff;
    text-align: center;
    float: left;
  }

  /* popups */
  .mapboxgl-popup {
    max-width: 200px;
  }
  .mapboxgl-popup-content {
    text-align: center;
    font-family: 'Open Sans', sans-serif;
  }
  .mapboxgl-popup-content p {
    text-align: left;
    margin: 0;
  }
  .mapboxgl-popup-close-button {
    margin-right: 0;
    left: auto;
  }
  h1 {
    font-size: 32px;
  }
  </style>
</head>
<body>

  <div id="map" style="height: 100vh; width: 100vw;""></div>

  <div class='map-overlay'>
    <h1>Chronic Violations</h1>
    <h4>Map view of chronic water system violations</h4>
    <div class='map-overlay-inner'>
      <label id='month'>Retrieving data from March 2019</label>
      <input id='slider' type='range' min='0' max='87' step='1' value='87' />
    </div>
    <div class='map-overlay-inner'>
      <div id='legend' class='legend'>
        <ul class='bar'>
          <li style="background-color:#607D8B;">1</li>
          <li style="background-color:#546E7A;">3+</li>
          <li style="background-color:#455A64;">6+</li>
          <li style="background-color:#000000;">12+</li>
          <li style="background-color:#FF7043;">24+</li>
          <li style="background-color:#FF5722;">48+</li>
          <li style="background-color:#E64A19;">72+</li>
          <li style="background-color:#BF360C;">96+</li>
        </ul>
        <div>Number of months violation persisted</div>
      </div>
    </div>

    <div class='map-overlay-inner'>
      <div>Marker size represents population served</div>
    </div>
    
  </div>

  <script src='https://api.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.css' rel='stylesheet' />
  <script type="module" src="chronic-map.js"></script>

</body>
</html>
